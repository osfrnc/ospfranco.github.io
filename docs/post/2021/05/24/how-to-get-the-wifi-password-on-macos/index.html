<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="utf-8" />
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico"/>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146785440-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146785440-1');
</script> -->

  <link type="application/atom+xml" rel="alternate" href="https://ospfranco.github.io/feed.xml" title="Oscar Franco on Github" /> 
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>How to get the WiFi password on macOS (for devs) | Oscar Franco on Github</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="How to get the WiFi password on macOS (for devs)" />
<meta name="author" content="Oscar Franco" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="If you are a non-dev I cannot really help you, if you can follow the instructions below then you are in luck." />
<meta property="og:description" content="If you are a non-dev I cannot really help you, if you can follow the instructions below then you are in luck." />
<link rel="canonical" href="https://ospfranco.github.io/post/2021/05/24/how-to-get-the-wifi-password-on-macos/" />
<meta property="og:url" content="https://ospfranco.github.io/post/2021/05/24/how-to-get-the-wifi-password-on-macos/" />
<meta property="og:site_name" content="Oscar Franco on Github" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-05-24T15:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="How to get the WiFi password on macOS (for devs)" />
<meta name="twitter:site" content="@ospfranco" />
<meta name="twitter:creator" content="@Oscar Franco" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://ospfranco.github.io/post/2021/05/24/how-to-get-the-wifi-password-on-macos/"},"url":"https://ospfranco.github.io/post/2021/05/24/how-to-get-the-wifi-password-on-macos/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ospfranco.github.io/assets/profile.jpg"},"name":"Oscar Franco"},"author":{"@type":"Person","name":"Oscar Franco"},"description":"If you are a non-dev I cannot really help you, if you can follow the instructions below then you are in luck.","headline":"How to get the WiFi password on macOS (for devs)","dateModified":"2021-05-24T15:00:00+02:00","datePublished":"2021-05-24T15:00:00+02:00","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/css/site.css" />
</head>
<html class="max-h-full">
  <body class="max-h-full">
    <div class="h-full lg:flex justify-center">
      <div class="w-full lg:flex-1 lg:h-full overflow-y-auto border-b lg:border-r" style="background-image: url('/assets/sidebar.png');">
  <a class="flex" href="/" >
    <img src="/assets/profile.jpeg" class="rounded-br-3xl h-32" />
    <div class="pt-2 mx-3">
      <h2 class="text-2xl font-bold">Oscar Franco</h2>
      <p class="text-sm text-gray-600">I surf and I work as a tech lead.</p>
      <p class="text-sm mt-2 text-gray-600">I'm trying to become independent, you can support me by checking out my projects.</p>
    </div>
  </a>
  
  
  
  <div class="py-3 pr-3 lg:py-6 lg:pr-6">
    <a href="https://ospfranco.github.io/cidemon">
      <div class="flex w-full items-center bg-white rounded-r-xl overflow-hidden shadow-lg hover:shadow-xl">
        <div class="overflow-hidden">
          <img src="/assets/small_ci_demon.webp" class="w-full" />
          <div class="p-4">
              <div class="text-blue-500 font-semibold">CI Demon</div>
              <div class="text-sm text-gray-600">
                CI builds on your desktop, notifications, status checks and more.</br>One time purchase, then yours forever.</br>
              </div>
          </div>
        </div>
      </div>
    </a>

    <a href="https://github.com/ospfranco/react-native-quick-sqlite">
      <div class="flex w-full items-center bg-white rounded-r-xl shadow-lg p-4 hover:shadow-xl mt-4">
        <div class="overflow-hidden">
          <div class="text-blue-500 font-semibold">react-native-sqlite</div>
          <div class="text-sm text-gray-600">
            SQLite implementation for react-native, uses the new JSI, by far the fastest.
          </div>
        </div>
      </div>
    </a>

  </div>
</div>

      <div class="w-full lg:overflow-y-scroll lg:w-2/3 p-3 lg:p-8">
        <div class="flex-1">
  <div class="p-4">
    <h1 class="font-semibold text-2xl">How to get the WiFi password on macOS (for devs)</h1>
    <div class="text-gray-500 text-sm">
      May 2021
    </div>
    
    <div class="markdown mt-6">
      <p>If you are a non-dev I cannot really help you, if you can follow the instructions below then you are in luck.</p>

<p>A lot of the online articles say that if you need to get your WiFi network password you need to go into the Keychain app, but that trick stopped working long ago, WiFi passwords on macOS are now encrypted and going into the Keychain does nothing for you.</p>

<p>Unfortunately there is visual app (that I know of) that can extract the password for you, but you can run a simple script that will prompt you for your password and then output the current network WiFi password.</p>

<h2 id="wifi-password-script">WiFi password script</h2>

<p>So, the first that you can do to get a WiFi password is use the following script by Guillermo Rauch:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># Required parameters:</span>
<span class="c"># @raycast.schemaVersion 1</span>
<span class="c"># @raycast.title Show WiFi Password</span>
<span class="c"># @raycast.mode silent</span>

<span class="c"># Optional parameters:</span>
<span class="c"># @raycast.icon ðŸ“¶</span>
<span class="c"># @raycast.packageName Show WiFi Password</span>

<span class="c"># Documentation:</span>
<span class="c"># @raycast.author Oscar</span>
<span class="c"># @raycast.authorURL https://github.com/ospfranco</span>

<span class="c"># The script is originally from Guillermo Rauch, all credit goes to him, all I did was add the Raycast headers</span>
<span class="c"># https://github.com/rauchg/wifi-password</span>

<span class="nv">version</span><span class="o">=</span><span class="s2">"0.1.0"</span>

<span class="c"># locate airport(1)</span>
<span class="nv">airport</span><span class="o">=</span><span class="s2">"/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport"</span>
<span class="k">if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-f</span> <span class="nv">$airport</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"ERROR: Can't find </span><span class="se">\`</span><span class="s2">airport</span><span class="se">\`</span><span class="s2"> CLI program at </span><span class="se">\"</span><span class="nv">$airport</span><span class="se">\"</span><span class="s2">."</span>
  <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="c"># by default we are verbose (unless non-tty)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-t</span> 1 <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nv">verbose</span><span class="o">=</span>1
<span class="k">else
  </span><span class="nv">verbose</span><span class="o">=</span>
<span class="k">fi</span>

<span class="c"># usage info</span>
usage<span class="o">()</span> <span class="o">{</span>
  <span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
  Usage: wifi-password [options] [ssid]
  Options:
    -q, --quiet      Only output the password.
    -V, --version    Output version
    -h, --help       This message.
    --               End of options
</span><span class="no">EOF
</span><span class="o">}</span>

<span class="c"># parse options</span>
<span class="k">while</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">=</span>~ ^- <span class="o">&amp;&amp;</span> <span class="o">!</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"--"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">do
  case</span> <span class="nv">$1</span> <span class="k">in</span>
    <span class="nt">-V</span> <span class="p">|</span> <span class="nt">--version</span> <span class="p">)</span>
      <span class="nb">echo</span> <span class="nv">$version</span>
      <span class="nb">exit</span>
      <span class="p">;;</span>
    <span class="nt">-q</span> <span class="p">|</span> <span class="nt">--quiet</span> <span class="p">)</span>
      <span class="nv">verbose</span><span class="o">=</span>
      <span class="p">;;</span>
    <span class="nt">-h</span> <span class="p">|</span> <span class="nt">--help</span> <span class="p">)</span>
      usage
      <span class="nb">exit</span>
      <span class="p">;;</span>
  <span class="k">esac</span>
  <span class="nb">shift
</span><span class="k">done
if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"--"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then </span><span class="nb">shift</span><span class="p">;</span> <span class="k">fi</span>

<span class="c"># merge args for SSIDs with spaces</span>
<span class="nv">args</span><span class="o">=</span><span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>

<span class="c"># check for user-provided ssid </span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">""</span> <span class="o">!=</span> <span class="s2">"</span><span class="nv">$args</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nv">ssid</span><span class="o">=</span><span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
<span class="k">else</span>
  <span class="c"># get current ssid</span>
  <span class="nv">ssid</span><span class="o">=</span><span class="s2">"</span><span class="sb">`</span><span class="nv">$airport</span> <span class="nt">-I</span> | <span class="nb">awk</span> <span class="s1">'/ SSID/ {print substr($0, index($0, $2))}'</span><span class="sb">`</span><span class="s2">"</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$ssid</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">""</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"ERROR: Could not retrieve current SSID. Are you connected?"</span> <span class="o">&gt;</span>&amp;2
    <span class="nb">exit </span>1
  <span class="k">fi
fi</span>

<span class="c"># warn user about keychain dialog</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$verbose</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">""</span>
  <span class="nb">echo</span> <span class="s2">"</span><span class="se">\0</span><span class="s2">33[90m â€¦ getting password for </span><span class="se">\"</span><span class="nv">$ssid</span><span class="se">\"</span><span class="s2">. </span><span class="se">\0</span><span class="s2">33[39m"</span>
  <span class="nb">echo</span> <span class="s2">"</span><span class="se">\0</span><span class="s2">33[90m â€¦ keychain prompt incoming. </span><span class="se">\0</span><span class="s2">33[39m"</span>
<span class="k">fi

</span><span class="nb">sleep </span>2

<span class="c"># source: http://blog.macromates.com/2006/keychain-access-from-shell/</span>
<span class="nb">pwd</span><span class="o">=</span><span class="s2">"</span><span class="sb">`</span>security find-generic-password <span class="nt">-D</span> <span class="s1">'AirPort network password'</span> <span class="nt">-ga</span> <span class="se">\"</span><span class="nv">$ssid</span><span class="se">\"</span> 2&gt;&amp;1 <span class="o">&gt;</span>/dev/null<span class="sb">`</span><span class="s2">"</span>

<span class="k">if</span> <span class="o">[[</span> <span class="nv">$pwd</span> <span class="o">=</span>~ <span class="s2">"could"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"ERROR: Could not find SSID </span><span class="se">\"</span><span class="nv">$ssid</span><span class="se">\"</span><span class="s2">"</span> <span class="o">&gt;</span>&amp;2
  <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="c"># clean up password</span>
<span class="nb">pwd</span><span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$pwd</span><span class="s2">"</span> | <span class="nb">sed</span> <span class="nt">-e</span> <span class="s2">"s/^.*</span><span class="se">\"\(</span><span class="s2">.*</span><span class="se">\)\"</span><span class="s2">.*</span><span class="nv">$/</span><span class="se">\1</span><span class="s2">/"</span><span class="si">)</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">""</span> <span class="o">==</span> <span class="s2">"</span><span class="nv">$pwd</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"ERROR: Could not get password. Did you enter your Keychain credentials?"</span> <span class="o">&gt;</span>&amp;2
  <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="c"># print</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$verbose</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"</span><span class="se">\0</span><span class="s2">33[96m âœ“ </span><span class="se">\"</span><span class="nv">$pwd</span><span class="se">\"</span><span class="s2"> </span><span class="se">\0</span><span class="s2">33[39m"</span>
  <span class="nb">echo</span> <span class="s2">""</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="nv">$pwd</span>
<span class="k">fi</span>
</code></pre></div></div>

<p>You can put this somewhere in your terminal configuration and call it everytime you need to share the password with a third party.</p>

<h2 id="using-it-with-the-raycast-app">Using it with the Raycast app</h2>

<p>But actually, there is a better way, you should download <a href="https://raycast.com">Raycast</a>, itâ€™s an awesome app and allows you to directly call scripts. Once you have Raycast installed, you can directly call this script from it (put it in your <code class="language-plaintext highlighter-rouge">documents</code> folder), it will immediately output the WiFi password ready for you to paste.</p>

<p>Here is an example of the script in action:</p>

<p><img src="https://ospfranco.github.io/assets/raycast_password.gif" alt="Raycast demo" title="Raycast demo" /></p>

    </div>
  </div>

</div>
      </div>
    </div>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
