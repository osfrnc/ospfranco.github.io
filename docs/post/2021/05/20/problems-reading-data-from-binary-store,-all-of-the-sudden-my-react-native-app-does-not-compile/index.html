<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="utf-8" />
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico"/>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146785440-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146785440-1');
</script> -->

  <link type="application/atom+xml" rel="alternate" href="https://ospfranco.github.io/feed.xml" title="Oscar Franco on Github" /> 
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Problems reading data from Binary store, all of the sudden my react-native app does not compile | Oscar Franco on Github</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Problems reading data from Binary store, all of the sudden my react-native app does not compile" />
<meta name="author" content="Oscar Franco" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="If you work with React Native this week has been a lot of fun, your app might have magically stopped compiling all of the sudden (or as in my case when the gradle cache was invalidated in the CI and in my local builds)." />
<meta property="og:description" content="If you work with React Native this week has been a lot of fun, your app might have magically stopped compiling all of the sudden (or as in my case when the gradle cache was invalidated in the CI and in my local builds)." />
<link rel="canonical" href="https://ospfranco.github.io/post/2021/05/20/problems-reading-data-from-binary-store,-all-of-the-sudden-my-react-native-app-does-not-compile/" />
<meta property="og:url" content="https://ospfranco.github.io/post/2021/05/20/problems-reading-data-from-binary-store,-all-of-the-sudden-my-react-native-app-does-not-compile/" />
<meta property="og:site_name" content="Oscar Franco on Github" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-05-20T15:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Problems reading data from Binary store, all of the sudden my react-native app does not compile" />
<meta name="twitter:site" content="@ospfranco" />
<meta name="twitter:creator" content="@Oscar Franco" />
<script type="application/ld+json">
{"url":"https://ospfranco.github.io/post/2021/05/20/problems-reading-data-from-binary-store,-all-of-the-sudden-my-react-native-app-does-not-compile/","headline":"Problems reading data from Binary store, all of the sudden my react-native app does not compile","dateModified":"2021-05-20T15:00:00+02:00","datePublished":"2021-05-20T15:00:00+02:00","author":{"@type":"Person","name":"Oscar Franco"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ospfranco.github.io/post/2021/05/20/problems-reading-data-from-binary-store,-all-of-the-sudden-my-react-native-app-does-not-compile/"},"description":"If you work with React Native this week has been a lot of fun, your app might have magically stopped compiling all of the sudden (or as in my case when the gradle cache was invalidated in the CI and in my local builds).","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/css/site.css" />
</head>
<html class="max-h-full">
  <body class="max-h-full">
    <div class="h-full w-full lg:flex justify-center ">
      <div class="lg:hidden p-4 border-b">
  <a href="/" >
    <!-- <h2 class="text-xl font-bold">Ospfranco</h2> -->
    <img src="/assets/OSP.svg" class="h-6"/>
    <h2 class="text-gray-500 text-sm mt-2">Indie Hacker / Web Dev</h2>
  </a>
  <div class="flex mt-2">
    <a href="https://twitter.com/ospfranco">
      <img src="/assets/twitter.png" class="h-6"/>
    </a>
    <a href="https://github.com/ospfranco">
      <img src="/assets/github.png" class="h-6 pl-4"/>
    </a>
  </div>
    
</div>

<div class="hidden lg:block overflow-y-auto lg:border-r p-4 w-80">
  <a href="/" >
    <img src="/assets/OSP.svg" class="h-6"/>
    <h2 class="text-gray-500 text-sm mt-2">Indie Hacker / Web Dev</h2>
  </a>

  <div class="flex mt-2">
    <a href="https://twitter.com/ospfranco">
      <img src="/assets/twitter.png" class="h-6"/>
    </a>
    <a href="https://github.com/ospfranco">
      <img src="/assets/github.png" class="h-6 pl-4"/>
    </a>
  </div>
    
  <div class="mt-6 font-normal">Projects</div>
  
  <a href="https://ospfranco.github.io/cidemon">
    <div class="text-sm mt-2 text-gray-600">
      · CI Demon
    </div>
    </a>

  <a href="https://scripthunt.sh">
    <div class="text-sm mt-2 text-gray-600">
      · Scripthunt
    </div>
    </a>
  
  <a href="https://github.com/ospfranco/react-native-quick-sqlite">
    <div class="flex text-sm mt-2 text-gray-600 items-center">
      · RN quick sqlite
    </div>
  </a>

  <a href="https://github.com/ospfranco/link-preview-js">
    <div class="flex text-sm mt-2 text-gray-600 items-center">
      · Link preview JS
    </div>
  </a>

  <a href="https://github.com/ospfranco/react-native-macos-menubar-template">
    <div class="flex text-sm mt-2 text-gray-600 items-center">
      · RN macOS menubar template
    </div>
  </a>

  <div class="mt-6 font-normal text-justify">Latest</div>
  
    
    
    <a href="/post/2021/05/25/100-bucks-per-month-as-indie-hacker/" >
        <div class="mt-2 text-sm text-justify">
          · 100€/month as an Indie Hacker
        </div>
      </a>
    
  
    
    
    <a href="/post/2021/05/24/how-to-get-the-wifi-password-on-macos/" >
        <div class="mt-2 text-sm text-justify">
          · How to get the WiFi password on macOS (for devs)
        </div>
      </a>
    
  
    
    
    <a href="/post/2021/05/20/problems-reading-data-from-binary-store,-all-of-the-sudden-my-react-native-app-does-not-compile/" >
        <div class="mt-2 text-sm text-justify">
          · Problems reading data from Binary store, all of the sudden my react-native app does not compile
        </div>
      </a>
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
</div>

      <div class="overflow-y-scroll p-4">
        <div class="flex-1 flex flex-col items-center lg:mx-36">
  <img src="/assets/profile.jpeg" class="rounded-full h-24 w-24 object-cover" />

  <div class="md:w-600 text-center my-10">
    <h1 class="font-semibold text-xl leading-7">Problems reading data from Binary store, all of the sudden my react-native app does not compile</h1>
    <div class="text-gray-600">
      May 2021
    </div>
  </div>
  
  <div
    class="markdown md:w-600"
  >
    <p>If you work with React Native this week has been a lot of fun, your app might have magically stopped compiling all of the sudden (or as in my case when the gradle cache was invalidated in the CI and in my local builds).</p>

<p>Whenever I tried to compile the app for android, I would face a very random error:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* What went wrong:
Execution failed for task ':app:processGmsDebugResources'.
&gt; Problems reading data from Binary store in /private/var/folders/qn/vyvn49j90jv9_77vq77wzvw00000gn/T/gradle7617438234756331878.bin offset 0 exists? true
</code></pre></div></div>

<p>It is particularly frustrating because there was absolutely no change from my side. I still haven’t been able to figure out the root cause, but after reading some of the github issues; <a href="https://github.com/gradle/gradle/issues/8489">a gradle issue that has nothing to do with RN</a> and the seemingly related <a href="https://github.com/zo0r/react-native-push-notification/issues/1999#issuecomment-840235222">rn-push-notification issue</a>. From what I gatter the cause seems to be Google pushing an update to their libraries messaging and breaking our precious compilation.</p>

<p>So in order to save you some time here is the solution, update the following dependencies:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>project app-level build.gradle file:
com.google.firebase:firebase-analytics:17.2.2 to com.google.firebase:firebase-analytics:18.0.2

Project-level build.gradle file:
com.google.gms:google-services:4.3.3 to com.google.gms:google-services:4.3.5
</code></pre></div></div>

<p>If you are using <code class="language-plaintext highlighter-rouge">react-native-push-notification</code> (actually seems to be the root of this problem), you also need to update that library to the latest version (<code class="language-plaintext highlighter-rouge">7.3.1</code> as of this writing). Bare in mind this might be a major version change, so the API might have changed, in our case we were using a 6.X.X version and we had to update the <code class="language-plaintext highlighter-rouge">removeAllDeliveredNotifications</code> method.</p>

<p>Afterwards your app should hopefully compile.</p>

  </div>
</div>
      </div>
    </div>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
